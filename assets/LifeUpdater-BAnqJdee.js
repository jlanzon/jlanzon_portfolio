import{H as r,Z as u,q as a,_ as l}from"./index-CfC3QUvt.js";import{V as f}from"./ValueWithRandom-RnF4-S2J.js";class y extends f{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class h extends f{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class m{constructor(){this.count=0,this.delay=new y,this.duration=new h}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const s=0,c=1,d=-1;class w{constructor(e){this.container=e}async init(e){const i=this.container,n=e.options,t=n.life;t&&(e.life={delay:i.retina.reduceFactor?r(t.delay.value)*(t.delay.sync?c:u())/i.retina.reduceFactor*a:s,delayTime:s,duration:i.retina.reduceFactor?r(t.duration.value)*(t.duration.sync?c:u())/i.retina.reduceFactor*a:s,time:s,count:t.count},e.life.duration<=s&&(e.life.duration=d),e.life.count<=s&&(e.life.count=d),e.life&&(e.spawning=e.life.delay>s),await Promise.resolve())}isEnabled(e){return!e.destroyed}loadOptions(e,...i){e.life||(e.life=new m);for(const n of i)e.life.load(n==null?void 0:n.life)}async update(e,i){if(!this.isEnabled(e)||!e.life)return;const{updateLife:n}=await l(()=>import("./Utils-CLO1e6yD.js"),__vite__mapDeps([0,1,2]));n(e,i,this.container.canvas.size)}}export{w as LifeUpdater};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Utils-CLO1e6yD.js","assets/index-CfC3QUvt.js","assets/index-VMaD5E-3.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
